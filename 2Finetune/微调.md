## 使用LlamaFactoy 微调
### 准备数据集
将 **/home/work/liuytest/大论文/2微调/主训练测试数据集** 文件夹中的
* ldbc_normal_train_7_3.json
* ldbc_with_schema_prompt_train_7_3
* ldbc_with_vector_prompt_train_7_3
* ldbc_with_schema_vector_prompt_test_7_3
 复制到 **/home/work/liuytest/LLaMA-Factory/data**  data目录下

 ### 编辑 dataset_info.json

/home/work/liuytest/LLaMA-Factory/data/dataset_info.json
新增如下prompt
```
"nlp2cypher_no_prompt": {
    "file_name": "ldbc_normal_train_7_3.json"
  },
  "nlp2cypher_my_prompt": {
    "file_name": "ldbc_with_schema_vector_prompt_test_7_3.json"
  },
  "nlp2cypher_schema_prompt": {
    "file_name": "ldbc_with_schema_prompt_train_7_3.json"
  },
  "nlp2cypher_vector_prompt": {
    "file_name": "ldbc_with_vector_prompt_train_7_3.json"
  },
```

### 微调方案
我们在 qwen8B llama7B chatglm6B  gemma9B 模型上用四种 prompt来训练
用我们的prompt Qwen0.5B 到千问 Qwen32B上都要训练

在 **/home/work/liuytest/LLaMA-Factory/examples/train_lora** 文件夹下准备配置文件
1. qwen8B llama8B chatglm6B  gemma9B 模型上用四种 prompt来训练
四种模型 四种prompt 需要16个配置文件 

2. 用我们的prompt Qwen0.5B 到 Qwen32B上都要训练 0.5B 1.5B 3B 7B 14B 32B
一种prompt和6种模型需要准备 6个配置文件

3. 用我们的prompt 不同规模的数据集 在 Qwen7B下做训练 不同规模的数据集有9种
需要准备9个配置文件  同时在 dataset_info.json 新增上除了7：3 的其余8种比例的训练数据配置文件
```
"scala_test_1_9": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_1_9.json"
  },
  "scala_test_2_8": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_2_8.json"
  },
  "scala_test_3_7": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_3_7.json"
  },
  "scala_test_4_6": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_4_6.json"
  },
  "scala_test_5_5": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_5_5.json"
  },
  "scala_test_6_4": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_6_4.json"
  },
  "scala_test_7_3": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_7_3.json"
  },
  "scala_test_8_2": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_8_2.json"
  },
    "scala_test_9_1": {
    "file_name": "scala_test_ldbc_with_schema_vector_prompt_train_9_1.json"
  },
```

### shell 脚本全跑训练